import { Link } from '@brillout/docpress'

VikeはNext.jsには異なる点が3つあります:

1.  VikeはUIフレームワークに囚われない。
    > VikeはReactに完全に依存せず、ソースコードもReactへの依存はゼロです。Vikeは他のUIフレームワーク（Vue、Preact、Solidなど）と一緒に使うことができます。
    >
    > Vikeでは、Reactインテグレーションを実装し、完全にコントロールすることができます。例えば、Next.jsでは不可能な、Facebookと同じ方法（render-as-you-fetchストリーム）でRelayを使用することができます。
1.  Vikeはサーバーやデプロイメントに囚われない。
    > Vikeを使えば、サーバーを完全にコントロールでき、どのようなデプロイメント戦略も利用できます。
1.  Vikeは本格的でありながらミニマル。
    > [すべての依存関係](https://github.com/vikejs/vike/blob/89073c8375d46af7cc05057a8f2efcd833273be6/vike/package.json#L4-L13)はViteと共有されるか （e.g. [`fast-glob`](https://github.com/mrmlnc/fast-glob)）、完全/移行的に所有されます（e.g. [`@brillout/json-serializer`](https://github.com/brillout/json-serializer)）。 VikeをViteアプリに追加しても、軽薄な依存関係は追加されません。
    >
    > 私たちは、Vikeが本格的なフロントエンドツールであると同時に、無駄なな課題やエラーを避けるというスイートスポットに当たると信じています。

このような構造的な違いに加え、Vikeは、Viteによる超高速HMR、 最先端のSPAサポート（特に今後の新しいVikeデザインによる）、ドメイン駆動型ファイル構造、最先端のコード分割（Vite/Rollupによる）、自動デプロイ同期、[独自のフレームワークの構築](https://vike.land)などの機能を導入しています。

> TurbopackはViteの超高速なDXテクニックの一部を再現していますが、まだ発展途上であり、Turbopackが本番に対応するまでにはしばらく時間がかかるでしょう。Viteを使えば、今すぐ光速なDXを使うことができます。

最後に、Vikeはコミュニティ・プロジェクトである。ビジネス上の利害が根本的に対立するフレームワークに依存するのではなく、コミュニティが主催し、コミュニティのために作られたコミュニティ主導のプロジェクトを利用しませんか？

## UIフレームワークに囚われない

Vikeでは、Reactを自分で統合します。つまり、もう少し定型文を書く必要がありますが、その代わりに柔軟性が増します。

Reactを自分で統合するため、お気に入りのツールを用いたフロントエンドの統合（データ取得、状態管理、認証など）を完全に制御できます。

たとえば、Next.jsでは不可能な方法でRelayやApolloを使用できます。

> Relayは、（GraphQLを発明した）Facebookによって開発され、大規模に使用されている最先端のGraphQLクライアントである。YouTubeのビデオ 「[Re-introducing Relay](https://www.youtube.com/watch?v=lhVGdErZuN4) 」では、Relayの利点について詳しく説明しています。

> 多くのユーザーやスポンサーが、RelayとSSR Streamingを統合するVikeの柔軟性を活用しています。

Reactを除けば、Vikeにはクライアントサイドルーティング、HMR、ファイルシステムルーティング、プリレンダリング、データフェッチ、コード分割、レイアウト、i18nなどのフロントエンドフレームワークに期待されるものが全て含まれています。

## サーバーやデプロイメントに囚われない

サーバーの観点から言えば、Vikeはどこでも（AWS、Vercel、Cloudflare、Deno Deployなど）実行できる<Link text="ミドルウェア" href="/deploy" />に過ぎません。

Vikeを統合するには、Vikeのミドルウェアをサーバーに追加するだけです（Express.js、Fastify、Edge Worker、Serverless Functionなど）。

Vikeでは、アーキテクチャの最も重要な側面の1つであるサーバーとデプロイメントを完全にコントロールできます。

## 手動での統合

上述の通り、Vikeの哲学は、フレームワークの決定に縛られることなく、手動でツールを統合できることげある。好きなツールを好きなように使えます。

総合的に見て、Vikeは簡単ではないが、よりシンプルです。大規模なプロジェクトでは、「簡単」であることよりも 「シンプル」であることの方が基本的に重要です。

最後になりますが、フレームワークと戦うのは厄介ですが、手動での統合は楽しく、洞察力に富みます。

## 独自のフレームワークを構築

Vikeは、ユーザーがVikeの上にフレームワークを構築できるようにゼロから設計されています。

わずか数百行のコードで、あなた自身のNext.jsを構築することができます。

> 独自のフレームワークを構築する[ユースケース](https://vike.land)はたくさんありますが、最も顕著なのは[企業内のフレームワークを構築](https://vike.land#scale)することです。

私たちは、特定のユースケースに高度に調整されたReactフレームワークの普及を促進しています。

## ユーザーの声

[@Axxxx0nより](https://github.com/vikejs/vike/issues/158#issuecomment-934224512):

1. Vite (オンデマンドトランスパイル、ネイティブESM)による高速開発。
1. Next.jsには多くのサンプルが必要であり、Next.jsとライブラリを統合するためのライブラリが数多く存在します（たとえば[next-i18next](https://github.com/isaachinman/next-i18next)）。Vikeなら、統合したいライブラリのドキュメントを読むだけでOKです。
1. Reactの新機能が登場したら、すぐに使い始めることができ、Next.jsチームが統合するのを待つ必要がありません。(ストリーミングAPI、サーバーコンポーネント、サーバー上のサスペンス、部分的なハイドレーションなど）。
1. Next.jsは、ビルド後に`/public`ディレクトリにあるファイル（ユーザーがアップロードした画像など）を読み込むことができません。
1. `getServerSideProps()`で、Next.jsはクライアントサイドのレンダリングをブロックします。
1. クライアントサイドのナビゲーション（[Next.js - &#35;23921](https://github.com/vercel/next.js/discussions/23921)）でデータ取得をバイパスすることはできません。
1. Next.jsはVercelプラットフォームを強力にプッシュしており、最近の機能アップデートに現れ始めています。Next.jsに沿った機能が優先される一方で、重要な修正は遅れています。
1. Next.jsはサーバーレスに傾倒しており、必要ないのに使い方が複雑になっています。

## 詳細の比較表

[@patryk-smc と @redbar0nによる](https://github.com/vikejs/vike/issues/158#issuecomment-1250068578):

|                                                                                               | Vike                                                                                       | Next.js                                                                                                                                                                                                                                               |
| --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| UI フレームワーク                                                                             | すべて (React, Preact, Solid, etc.)                                                        | React のみ                                                                                                                                                                                                                                            |
| コード分割とバンドル                                                                          | 可能                                                                                       | 可能                                                                                                                                                                                                                                                  |
| HMR                                                                                           | 可能 速い                                                                                  | 可能, 遅い                                                                                                                                                                                                                                            |
| SPA                                                                                           | 可能                                                                                       | 限定的                                                                                                                                                                                                                                                |
| <p align="center">**SSR**</p>                                                                 |                                                                                            |                                                                                                                                                                                                                                                       |
| コントロール                                                                                  | フルコントロール                                                                           | 限定的 / ブラックボックス                                                                                                                                                                                                                             |
| レンダラー                                                                                    | 可能、好きなだけ                                                                           | 一つのみ (`_app.ts` ファイル)                                                                                                                                                                                                                         |
| RSC (React サーバーコンポーネント)                                                            | 可能, <Link href="/react#react-server-components">部分的に</Link>                          | 可能、実験段階                                                                                                                                                                                                                                        |
| <p align="center">**ルーティング**</p>                                                        |                                                                                            |                                                                                                                                                                                                                                                       |
| ファイルシステムルーティング                                                                  | 可能                                                                                       | 可能                                                                                                                                                                                                                                                  |
| <Link text="ドメイン駆動ファイルシステムルーティング" href="/file-structure#domain-driven" /> | 可能                                                                                       | 不可                                                                                                                                                                                                                                                  |
| <Link text="クライアントルーティング" href="/client-routing" />                               | 可能                                                                                       | 可能                                                                                                                                                                                                                                                  |
| <Link text="サーバールーティング" href="/server-routing" />                                   | 可能                                                                                       | 不可                                                                                                                                                                                                                                                  |
| <Link text="ベースURL" href="/base-url" />                                                    | 可能                                                                                       | 限定的                                                                                                                                                                                                                                                |
| <p align="center">**統合**</p>                                                                |                                                                                            |                                                                                                                                                                                                                                                       |
| HTTP サーバー                                                                                 | なし\*、 自分で実装してください                                                            | カスタムサーバーは、注意事項とともに部分的にサポートされます[[1]](https://github.com/vikejs/vike/issues/158#issuecomment-1355306156)[[2]](https://stackoverflow.com/questions/58742343/do-i-have-to-use-express-in-next-js-project/70945468#70945468) |
| Apollo Client with SSR                                                                        | フルサポート                                                                               | 部分的にサポート                                                                                                                                                                                                                                      |
| Relay with SSR                                                                                | フルサポート                                                                               | 部分的にサポート                                                                                                                                                                                                                                      |
| <p align="center">**その他**</p>                                                              |                                                                                            |                                                                                                                                                                                                                                                       |
| Headコンポーネント                                                                            | なし\*、 [react-helmet](https://github.com/nfl/react-helmet)などのツールを使用してください | あり、 next/head                                                                                                                                                                                                                                      |
| Image component                                                                               | なし\*、 <Link href="/img">画像最適化ツール</Link>を用いてください                         | あり、 next/image                                                                                                                                                                                                                                     |
| API routes                                                                                    | なし\*、 自分のサーバーか<Link text="RPCツール" href="/api-routes" />を使用してください    | あり                                                                                                                                                                                                                                                  |
| Internationalization (i18n)                                                                   | 可能                                                                                       | 限定的                                                                                                                                                                                                                                                |
| <Link href="/deploy-sync" >デプロイの同期</Link>                                              | 可能                                                                                       | 不可                                                                                                                                                                                                                                                  |
| [独自のフレームワークを構築](https://vike.land)                                               | 可能                                                                                       | 不可                                                                                                                                                                                                                                                  |
| <p align="center">**デプロイオプション**</p>                                                  |                                                                                            |                                                                                                                                                                                                                                                       |
| Vercel                                                                                        | 最低限の設定で可能                                                                         | 設定なしで可能                                                                                                                                                                                                                                        |
| Cloudflare Workers                                                                            | 最低限の設定で可能                                                                         | 不可、 [作業中](https://github.com/vercel/next.js/discussions/34179#discussioncomment-3578259)                                                                                                                                                        |
| Node server (Docker, Heroku, Digital Ocean etc.)                                              | 最低限の設定で可能                                                                         | 制限はあるが可能                                                                                                                                                                                                                                      |

(\*) Vikeははデザイン上、そのような余分なものは行いません。
